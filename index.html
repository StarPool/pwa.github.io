<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Simple QR Reader</title>
        <link rel="apple-touch-icon" href="./images/icons/icon-384x384.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="./images/icons/icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="76x76" href="./images/icons/icon-76x76.png" />
        <link rel="apple-touch-icon" sizes="120x120" href="./images/icons/icon-120x120.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="./images/icons/icon-144x144.png" />
        <link rel="apple-touch-icon" sizes="167x167" href="./images/icons/icon-167x167.png" />
        <link rel="apple-touch-icon" sizes="180x180" href="./images/icons/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="152x152" href="./images/icons/icon-152x152.png" />
        <link rel="stylesheet" href="./css/app.css" />
        <link rel="manifest" href="./manifest.json" />
        <link rel="manifest" href="manifest.webmanifest" />
        <script async src="https://cdn.jsdelivr.net/npm/pwacompat" crossorigin="anonymous"></script>
        <!--
        <script
            async
            src="https://cdn.jsdelivr.net/npm/pwacompat@2.0.9/pwacompat.min.js"
            integrity="sha384-VcI6S+HIsE80FVM1jgbd6WDFhzKYA0PecD/LcIyMQpT4fMJdijBh0I7Iblaacawc"
            crossorigin="anonymous"
        ></script>
        -->
        <script>
            if ('serviceWorker' in navigator) {
                alert('OK');
                navigator.serviceWorker.register('./sw.js?v=4')
            }
            else
            {
                alert('NG');
            }
        </script>
    </head>
    <body>
        <div class="reader">
            <video
                id="js-video"
                class="reader-video"
                autoplay
                playsinline
            ></video>
        </div>

        <div class="reticle">
            <div class="reticle-box"></div>
        </div>

        <div style="display: none">
            <canvas id="js-canvas"></canvas>
        </div>

        <div id="js-modal" class="modal-overlay">
            <div class="modal">
                <div class="modal-cnt">
                    <span class="modal-title">読み取り結果</span>
                    <textarea
                        id="js-result"
                        class="modal-result"
                        value=""
                        readonly
                    /></textarea>
                </div>
                <a href="" id="js-link" class="modal-btn" target="_blank">
                    開く
                </a>
                <button id="js-copy" class="modal-btn" target="_blank">
                    コピー
                </button>
                <button type="button" id="js-modal-close" class="modal-btn">
                    閉じる
                </button>
            </div>
        </div>

        <div id="js-unsupported" class="unsupported">
            <p class="unsupported-title">Sorry!</p>
            <p>Unsupported browser</p>
        </div>

        <script src="./js/encoding.min.js?v=4"></script>
        <script src="./js/jsQR.js?v=4"></script>
        <script src="./js/app.js?v=4"></script>
    </body>
</html>
